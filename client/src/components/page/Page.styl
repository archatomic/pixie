.Page
    height 100%
    width 100%
    background theme.white
    overflow hidden
    position relative

    top-border-width = 0.4rem
    top-border-hidden = 0.3rem
    transitionSpeed = 0.4s
    animationSpeed = 12s

    backgroundSize = 200%
    offset = 100 / backgroundSize
    w = offset
    W = 100% - w
    h = w
    H = 100% - h

    a(a, b, w = 1.1)
        return a + (b - a) * w

    @keyframes spin
        0%
            background-position h w, H W
        12.5%
            background-position a(h, 0%) center, a(H, 100%) center
        25%
            background-position h W, H w
        37.5%
            background-position center a(W, 100%), center a(w, 0%)
        50%
            background-position H W, h w
        62.5%
            background-position a(H, 100%) center, a(h, 0%) center
        75%
            background-position H w, h W
        87.5%
            background-position center a(w, 0%), center a(W, 100%)
        100%
            background-position h w, H W

    &-top
        position absolute
        z-index 1
        left 0
        top 0
        right 0
        min-height 100%
        display flex
        flex-direction column
        align-items center
        justify-content center
        transform "translateY(calc(-100% + %s))" % top-border-hidden
        background-color theme.secondary
        background-image radial-gradient(closest-side, theme.primary, transparent), radial-gradient(closest-side, theme.tertiary, transparent)
        background-repeat no-repeat, no-repeat
        background-size backgroundSize backgroundSize, backgroundSize backgroundSize
        transition transform transitionSpeed ease-in-out
        animation spin animationSpeed linear infinite

        .App--focused &
            transform "translateY(calc(-100% + %s))" % top-border-width

        &::before
            content ''
            display block
            position absolute
            left 0
            top 0
            right 0
            bottom 0
            background grey(90)
            transition opacity transitionSpeed ease-in-out
            opacity 1

            .App--focused &
                opacity 0

    &--top &-top
        transform translateY(0)

    &-body
        z-index 0
        position relative
        background grey(95)
        border-top top-border-width solid transparent
        height 100%
        width 100%
        transition transform transitionSpeed ease-in-out
        overflow-x hidden
        overflow-y auto

    &--top &-body
        transform translateY(100vh)

    &-body > *, &-top > *
        transform-origin bottom
        transition opacity transitionSpeed ease-in-out, transform transitionSpeed ease-in-out

        &.enter, &.exit.exit-active
            opacity 0

        &.enter-active, &.exit
            opacity 1

    &-top > *
        &.enter, &.exit.exit-active
            transform translateY(20vh) scale(0.5)

        &.enter-active, &.exit
            transform translateY(0) scale(1)
